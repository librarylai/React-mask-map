(this["webpackJsonpreact-map-leaflet"]=this["webpackJsonpreact-map-leaflet"]||[]).push([[0],{80:function(e,t,a){e.exports=a(97)},86:function(e,t,a){},91:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(15),o=a(17),c=a(16),i=a(19),s=a(0),l=a.n(s),m=a(50),p=a.n(m),u=a(61),d=a(74),h=a(68),f=a.n(h),C=a(75),v=a(72),g=a(73),b=a(70),k=a(71),j=a(1),E=a.n(j),w=(a(86),function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.shopItem,a=e.handleCardClick,n=t.properties,r=n.name,o=n.phone,c=n.address,i=n.mask_adult,s=n.mask_child,m=Object(u.a)(t.geometry.coordinates,2),p=m[0],d=m[1];return l.a.createElement("div",{className:"shopInfoComponent-container",onClick:function(){return a?a(p,d):null}},l.a.createElement("p",{className:"shopInfoComponent-container-title"},r),l.a.createElement("p",{className:"shopInfoComponent-container-font"},o),l.a.createElement("p",{className:"shopInfoComponent-container-font"},c),l.a.createElement("div",{className:"shopInfoComponent-container-rowBox"},l.a.createElement("p",{className:"shopInfoComponent-container-rowBox-column ".concat(i?"blue":"gray")},l.a.createElement("span",null,"\u6210\u4eba\u53e3\u7f69"),l.a.createElement("span",null,i)),l.a.createElement("p",{className:"shopInfoComponent-container-rowBox-column ".concat(s?"red":"gray")},l.a.createElement("span",null,"\u5152\u7ae5\u53e3\u7f69"),l.a.createElement("span",null,s))))}}]),t}(s.Component)),O=E.a.icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),y=E.a.icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),S=E.a.icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),x=E.a.icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),M=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).shouldComponentUpdate=function(e,t){return e.data!==a.props.data},a.getMarkerIcon=function(e,t){return e&&t?O:e||t?e?S:t?x:void 0:y},a.renderMarkers=function(){var e=a.props.data;if(e)return e.map((function(e){var t=e.properties,n=t.mask_adult,r=t.mask_child;return l.a.createElement(b.a,{key:e.properties.id,position:[e.geometry.coordinates[1],e.geometry.coordinates[0]],icon:a.getMarkerIcon(n,r)},l.a.createElement(k.a,{closeButton:!1,closeOnClick:!0,minWidth:200},l.a.createElement(w,{shopItem:e})))}))},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(s.Fragment,null,this.renderMarkers())}}]),t}(s.Component),N=a(65),I=a.n(N),z=(a(91),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){I.a.locale()},a.renderCardInfo=function(){var e=a.props,t=e.data,n=e.handleCardClick;return t.map((function(e){return l.a.createElement("div",{key:e.properties.id,className:"navMenuComponent-shopListContainer-cardContent"},l.a.createElement(w,{shopItem:e,handleCardClick:n}))}))},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.handleSearchBarSubmit;return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"navMenuComponent-titleContainer"},l.a.createElement("div",{className:"navMenuComponent-titleContainer-content"},l.a.createElement("p",{className:"navMenuComponent-titleContainer-title"},"\u53e3\u7f69\u67e5\u8a62"),l.a.createElement("div",{className:"navMenuComponent-titleContainer-dateContent"},l.a.createElement("p",null,I()().format("dddd")),l.a.createElement("p",null,I()().format("YYYY/MM/DD")))),l.a.createElement("div",{className:"navMenuComponent-titleContainer-searchBar"},l.a.createElement("input",{placeholder:"\u641c\u5c0b\u5340\u57df,\u5730\u5740,\u85e5\u5c40",type:"text",onKeyPress:e}))),l.a.createElement("div",{className:"navMenuComponent-shopListContainer"},this.renderCardInfo()))}}]),t}(s.Component)),A=a(78),B=a.n(A),D=(a(94),a(95),function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).componentDidMount=function(){e.fetchAPI()},e.fetchAPI=Object(C.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json");case 2:return t.next=4,t.sent.json();case 4:a=t.sent,e.setState({apiData:a.features,data:a.features});case 6:case"end":return t.stop()}}),t)}))),e.handleMapAttrChange=function(t,a){e.setState(Object(d.a)({},t,a))},e.handleViewportChanged=function(t){var a=e.state.apiData,n=Object(u.a)(t.center,2),r=n[0],o=n[1],c=a.filter((function(e){var t=parseFloat(e.geometry.coordinates[1]),a=parseFloat(e.geometry.coordinates[0]);return t<=r+.05&&t>=r-.05&&a<=o+.05&&a>=o-.05}));e.setState({viewport:{center:[t.center[0],t.center[1]],zoom:t.zoom},data:c})},e.handleSearchBarSubmit=function(t){if(t.persist(),"Enter"===t.key){var a=e.state.apiData,n=t.target.value,r=a.filter((function(e){var a=e.properties;return-1!==(a.name+a.address).indexOf(t.target.value)}));e.handleMapAttrChange("data",n?r:a)}},e.handleCardClick=function(t,a){e.setState({viewport:{center:[a,t],zoom:18}})},e.state={apiData:[],data:[],viewport:{center:[25.04836,121.56066],zoom:10},keyword:""},e}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state,t=e.viewport,a=e.data,n=e.apiData;return l.a.createElement("div",{className:"mapContainer-container"},l.a.createElement("div",{className:"mapContainer-container-controllContent"},l.a.createElement(z,{data:a,viewport:t,handleCardClick:this.handleCardClick,handleSearchBarSubmit:this.handleSearchBarSubmit})),l.a.createElement("div",{className:"mapContainer-container-mapContent"},l.a.createElement(v.a,{useFlyTo:!0,className:"mapContainer-container-mapContent-map",center:t.center,zoom:t.zoom,minZoom:3,maxZoom:25,animate:!0,onViewportChanged:this.handleViewportChanged},l.a.createElement(g.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),l.a.createElement(B.a,{showCoverageOnHover:!0},l.a.createElement(M,{data:n})))))}}]),t}(s.Component)),U=(a(96),function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(D,null)}}]),t}(s.Component)),F=document.getElementById("root");p.a.render(l.a.createElement(U,null),F)}},[[80,1,2]]]);
//# sourceMappingURL=main.3dbd9bd5.chunk.js.map